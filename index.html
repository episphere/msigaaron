<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/js/jquery.tablesorter.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.21.5/css/theme.bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

  <link rel="stylesheet" href="./css/style.css">
  <script>
    mSigSDK = import("./main.js").then((mSigSDK) => {
      // set mSigSDK as a global variable
      window.mSigSDK = mSigSDK.mSigSDK;

    });

  </script>

  <title>mSig SDK Documentation</title>
</head>

<body>
  <header class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="#">mSig SDK Documentation</a>
    </div>
  </header>
  <main class="container mt-5">
    <!-- Add main content here -->
    <h2>Getting Started</h2>
    <p>Welcome to the mSigSDK documentation. To get started, follow these steps:</p>
    <ol>
      <li>Install the SDK</li>
      <li>Authenticate with the API</li>
      <li>Start making API calls</li>
    </ol>
    <h2>Reference</h2>
    <!-- Add reference content here -->
    <p>The mSigSDK integrates:</p>
    <ul>
      <li>COSMIC</li>
      <li>mSigPortal</li>
      <li>Signal</li>
      <li>Tensorflow</li>
      <li>Plotly</li>
    </ul>


    <h3>Currently Available APIs</h3>
    <ul>
      <li>Mutational Signature Definiton</li>
      <li>Mutational Spectrum Studies</li>
      <li>Mutational Signature Activity</li>
      <li>Mutational Signature Etiology</li>
      <li>Mutational Signature Association</li>
    </ul>
    <h3>Sample Code</h3>
    <p>API calls are made like so:</p>

    <pre class="prettyprint">
      <code>
        async function getMutationalSignaturesOptions(
          genomeDataType = "WGS",
          mutationType = "SBS",
          numberOfResults = 10
        ) {
          return await (
            await fetch(
              `https://analysistools-dev.cancer.gov/mutational-signatures/api/mutational_signature_options?
              source=Reference_signatures&strategy=${genomeDataType}&profile=${mutationType}&limit=${numberOfResults}&offset=0`
            )
          ).json();
        }
      </code>
    </pre>
  </main>


  <main class="container mt-5">
    <h2 class="text-center">Test an API</h2>
    <form id="api-form-signatures" class="mt-5 mb-5">
      <div class="form-group">
        <label for="endpoint-select">Endpoint:</label>
        <select class="form-control" id="endpoint-select">
          <option value="">-- Select an API --</option>
        </select>
      </div>
      <div class="form-group">
        <label for="response-output">Response:</label>
        <pre id="response-output" class="bg-light">
          
            <table id = "responseTable" class="tablesorter table table-bordered table-striped ">
              <thead id="tableHead">
              </thead>
              <tbody id="tableBody">
              </tbody>
            </table>
          </div>
        </pre>

      <div class="form-group">
        <label for="number-of-results-input">Number of Results:</label>
        <input type="text" class="form-control" id="number-of-results-input"
          placeholder="Enter the number of results you would like to obtain">
      </div>
      <div class="form-group" id="params-section">
        <!-- This section will be updated with the description of the parameters for each API -->
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-primary btn-lg">Submit</button>
      </div>
    </form>
    <hr>
  </main>

  <main class="container mt-5">
    <div id="mutationalSpectrumSummary">
      <div id="mutationalSpectrumMatrix"></div>
      <div id="forceDirectedTree"></div>
      <div id="cosineSimilarityHeatMap"></div>
      <div id="exposureGraph"></div>

        
    </div>
  </main>

</body>
<footer class="bg-light py-3">
  <!-- Add footer content here -->
</footer>

<script src="./scripts/js/APITesting.js"></script>
</body>

</html>